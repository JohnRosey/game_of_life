<app-game></app-game>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conway's Game of Life</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .grid-cell {
            width: 30px;
            height: 30px;
            border: 1px solid #ddd;
        }
        .grid-cell.alive {
            background-color: #000;
        }
    </style>
</head>
<body class="bg-gray-800 text-white font-sans">

    <div class="flex flex-col items-center justify-center h-screen">
        <h1 class="text-3xl mb-8">Le jeu de la vie John Horton Conway</h1>

        <div class="mb-4">
            <h2 class="text-xl">Grille de jeu:</h2>
            <p>10 lignes et 10 colonnes</p>
        </div>

        <div id="grid" class="grid grid-cols-10 gap-1 mb-8">
            <!-- Grid cells will be added here by JavaScript -->
        </div>

        <div class="space-x-4">
            <button id="startGame" class="bg-gray-700 px-4 py-2 rounded">Start Game</button>
            <button id="reset" class="bg-gray-700 px-4 py-2 rounded">Reset</button>
        </div>
    </div>

    <script>
        const grid = document.getElementById('grid');
        const startButton = document.getElementById('startGame');
        const resetButton = document.getElementById('reset');
        let intervalId;
        let cells = [];

        function createGrid() {
            for (let i = 0; i < 100; i++) {
                const cell = document.createElement('div');
                cell.classList.add('grid-cell');
                cell.addEventListener('click', () => {
                    cell.classList.toggle('alive');
                });
                grid.appendChild(cell);
                cells.push(cell);
            }
        }

        function getCellStatus(index) {
            return cells[index] && cells[index].classList.contains('alive') ? 1 : 0;
        }

        function countNeighbors(index) {
            const row = Math.floor(index / 10);
            const col = index % 10;
            let count = 0;

            count += getCellStatus(index - 11);
            count += getCellStatus(index - 10);
            count += getCellStatus(index - 9);
            count += getCellStatus(index - 1);
            count += getCellStatus(index + 1);
            count += getCellStatus(index + 9);
            count += getCellStatus(index + 10);
            count += getCellStatus(index + 11);

            return count;
        }

        function updateGrid() {
            const newCells = cells.map((cell, index) => {
                const alive = cell.classList.contains('alive');
                const neighbors = countNeighbors(index);

                if (alive && (neighbors < 2 || neighbors > 3)) {
                    return false;
                }
                if (!alive && neighbors === 3) {
                    return true;
                }
                return alive;
            });

            cells.forEach((cell, index) => {
                cell.classList.toggle('alive', newCells[index]);
            });
        }

        startButton.addEventListener('click', () => {
            if (intervalId) {
                clearInterval(intervalId);
                intervalId = null;
                startButton.textContent = 'Start Game';
            } else {
                intervalId = setInterval(updateGrid, 500);
                startButton.textContent = 'Pause';
            }
        });

        resetButton.addEventListener('click', () => {
            cells.forEach(cell => cell.classList.remove('alive'));
            if (intervalId) {
                clearInterval(intervalId);
                intervalId = null;
                startButton.textContent = 'Start Game';
            }
        });

        createGrid();
    </script>

</body>
</html>
<router-outlet></router-outlet>
