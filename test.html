<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conway's Game of Life</title>
    <script src="https://cdn.tailwindcss.com"></script>
   <style>
    .cell {
        width: 30px;
        height: 30px;
        background-color: #fff;
        border: 1px solid #333;
    }
    .cell.alive {
        background-color: #000;
    }
    .customgrid-cols-10{
        grid-template-columns: repeat(50, minmax(0, 1fr));
    
    }
    
</style>
</head>
<body class="bg-gray-800 text-white flex flex-col items-center justify-center min-h-screen">

    <h1 class="text-4xl font-bold mb-8">Le jeu de la vie John Horton Conway</h1>

    <div class="mb-4">
        <p class="text-lg">Grille de jeu:</p>
        <p>10 lignes et 10 colones</p>
    </div>

    <div id="grid" class="grid gap-2 customgrid-cols-10">
        <!-- Grid cells will be added here by JavaScript -->
    </div>

    <div class="flex space-x-4 mb-8">
        <button id="startGame" class="bg-gray-700 px-4 py-2 rounded">Start Game</button>
        <button id="speedUp" class="bg-gray-700 px-4 py-2 rounded">Speed Up</button>
        <button id="reset" class="bg-gray-700 px-4 py-2 rounded">Reset</button>
    </div>

    <script>
        const gridElement = document.getElementById('grid');
        const startButton = document.getElementById('startGame');
        const speedUpButton = document.getElementById('speedUp');
        const resetButton = document.getElementById('reset');
        let intervalId;
        let speed = 500; // Initial speed in milliseconds

        // Initialize grid
        const grid = new Array(10).fill(null).map(() => new Array(30).fill(false));

        function drawGrid() {
            gridElement.innerHTML = '';
            grid.forEach((row, rowIndex) => {
                row.forEach((cell, colIndex) => {
                    const cellElement = document.createElement('div');
                    cellElement.classList.add('cell');
                    if (cell) cellElement.classList.add('alive');
                    cellElement.addEventListener('click', () => toggleCell(rowIndex, colIndex));
                    gridElement.appendChild(cellElement);
                });
            });
        }

        function toggleCell(x, y) {
            grid[x][y] = !grid[x][y];
            drawGrid();
        }
        const generateRandomButton = document.getElementById('generateRandom');

function generateRandomSetup() {
    for (let i = 0; i < cells.length; i++) {
        cells[i] = Math.random() < 0.3; // 30% chance for each cell to be alive
    }
    updateGrid();
}

generateRandomButton.addEventListener('click', generateRandomSetup);
        function updateGrid() {
            const newGrid = grid.map(arr => [...arr]);
            for (let x = 0; x < grid.length; x++) {
                for (let y = 0; y < grid[x].length; y++) {
                    let liveNeighbors = 0;
                    for (let dx = -1; dx <= 1; dx++) {
                        for (let dy = -1; dy <= 1; dy++) {
                            if (dx === 0 && dy === 0) continue;
                            const nx = x + dx, ny = y + dy;
                            if (nx >= 0 && nx < grid.length && ny >= 0 && ny < grid[x].length) {
                                liveNeighbors += grid[nx][ny] ? 1 : 0;
                            }
                        }
                    }
                    if (grid[x][y] && (liveNeighbors < 2 || liveNeighbors > 3)) {
                        newGrid[x][y] = false;
                    } else if (!grid[x][y] && liveNeighbors === 3) {
                        newGrid[x][y] = true;
                    }
                }
            }
            for (let x = 0; x < grid.length; x++) {
                for (let y = 0; y < grid[x].length; y++) {
                    grid[x][y] = newGrid[x][y];
                }
            }
            drawGrid();
        }

        startButton.addEventListener('click', () => {
            if (intervalId) {
                clearInterval(intervalId);
                intervalId = null;
                startButton.textContent = 'Start Game';
            } else {
                intervalId = setInterval(updateGrid, speed);
                startButton.textContent = 'Pause Game';
            }
        });

        speedUpButton.addEventListener('click', () => {
            if (speed > 100) {
                speed -= 100;
                if (intervalId) {
                    clearInterval(intervalId);
                    intervalId = setInterval(updateGrid, speed);
                }
            }
        });

        resetButton.addEventListener('click', () => {
            if (intervalId) {
                clearInterval(intervalId);
                intervalId = null;
            }
            grid.forEach(row => row.fill(false));
            drawGrid();
            startButton.textContent = 'Start Game';
            speed = 500;
        });

        drawGrid();
    </script>
</body>
</html>