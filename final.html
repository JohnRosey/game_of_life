<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le jeu de la vie de John Horton Conway</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        canvas {
            border: 1px solid #333;
        }
    </style>
</head>
<body class="bg-black text-white font-sans">
    <div class="flex flex-col items-center justify-center h-screen">
        <h1 class="text-4xl mb-8">Le jeu de la vie de John Horton Conway</h1>
        <canvas id="gameCanvas" width="300" height="300"></canvas>
        <div class="flex space-x-4 my-8">
            <button id="startGame" class="bg-gray-700 px-4 py-2 rounded">Start Game</button>
            <button id="pauseGame" class="bg-gray-700 px-4 py-2 rounded">Pause Game</button>
            <button id="reset" class="bg-gray-700 px-4 py-2 rounded">Reset</button>
        </div>
    </div>
    <script>
      const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const cellSize = 30;
let rows = 10;
let columns = 10;
let intervalId;
let cells = new Array(rows * columns).fill(false);

function drawGrid() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let i = 0; i < rows; i++) {
        for (let j = 0; j < columns; j++) {
            ctx.strokeRect(j * cellSize, i * cellSize, cellSize, cellSize);
            if (cells[i * columns + j]) {
                ctx.fillRect(j * cellSize, i * cellSize, cellSize, cellSize);
            }
        }
    }
}

function getAliveNeighbors(x, y) {
    let count = 0;
    for (let dx = -1; dx <= 1; dx++) {
        for (let dy = -1; dy <= 1; dy++) {
            if (dx === 0 && dy === 0) continue;
            const nx = x + dx;
            const ny = y + dy;
            if (nx >= 0 && nx < columns && ny >= 0 && ny < rows) {
                count += cells[nx + ny * columns] ? 1 : 0;
            }
        }
    }
    return count;
}

function nextGeneration() {
    const newCells = cells.slice();
    for (let i = 0; i < cells.length; i++) {
        const x = i % columns;
        const y = Math.floor(i / columns);
        const neighbors = getAliveNeighbors(x, y);
        const alive = cells[i];
        if (alive && (neighbors < 2 || neighbors > 3)) {
            newCells[i] = false;
        } else if (!alive && neighbors === 3) {
            newCells[i] = true;
        }
    }
    cells = newCells;
    drawGrid();
}

function startGame() {
    if (intervalId) clearInterval(intervalId);
    intervalId = setInterval(nextGeneration, 500);
}

function resetGame() {
    clearInterval(intervalId);
    cells = new Array(rows * columns).fill(false);
    drawGrid();
}

document.getElementById('startGame').addEventListener('click', startGame);
document.getElementById('pauseGame').addEventListener('click', () => clearInterval(intervalId));
document.getElementById('reset').addEventListener('click', resetGame);

drawGrid();

    </script>
</body>
</html>
