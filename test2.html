<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le jeu de la vie de John Horton Conway</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .grid-cell {
            width: 30px;
            height: 30px;
            border: 1px solid #333;
        }
        .grid-cell.alive {
            background-color: #10B981;
        }
    </style>
</head>
<body class="bg-black text-white font-sans">
    <div class="flex flex-col items-center justify-center h-screen">
        <h1 class="text-4xl mb-8">Le jeu de la vie de John Horton Conway</h1>
        <div id="grid" class="grid grid-cols-10 gap-1 mb-8">
            <!-- Grid cells will be generated by JavaScript -->
        </div>
        <div class="flex space-x-4 mb-8">
            <button id="startGame" class="bg-gray-700 px-4 py-2 rounded">Start Game</button>
            <button id="reset" class="bg-gray-700 px-4 py-2 rounded">Reset</button>
        </div>
        <div class="flex justify-between w-1/2">
            <div>
                <h2 class="text-lg mb-2">Grille de jeu:</h2>
                <p>10 lignes et 10 colonnes</p>
            </div>
            <div id="cellStats" class="text-right">
                <h2 class="text-lg mb-2">Nombre de cellules:</h2>
                <p>en vie: <span id="aliveCount">0</span></p>
                <p>mortes: <span id="deadCount">0</span></p>
            </div>
        </div>
    </div>
    <script>
        const grid = document.getElementById('grid');
        const aliveCount = document.getElementById('aliveCount');
        const deadCount = document.getElementById('deadCount');
        const startGameButton = document.getElementById('startGame');
        const resetButton = document.getElementById('reset');
        const gridSize = 10;
        let intervalId;
        let cells = [];

        function createGrid() {
            for (let i = 0; i < gridSize * gridSize; i++) {
                const cell = document.createElement('div');
                cell.classList.add('grid-cell');
                cell.addEventListener('click', () => toggleCellState(i));
                grid.appendChild(cell);
                cells.push(false);
            }
        }

        function toggleCellState(index) {
            cells[index] = !cells[index];
            updateGrid();
        }

        function updateGrid() {
            cells.forEach((alive, index) => {
                grid.children[index].classList.toggle('alive', alive);
            });
            aliveCount.textContent = cells.filter(alive => alive).length;
            deadCount.textContent = cells.filter(alive => !alive).length;
        }

        function nextGeneration() {
            const newCells = cells.slice();
            for (let i = 0; i < cells.length; i++) {
                const x = i % gridSize;
                const y = Math.floor(i / gridSize);
                const neighbors = getAliveNeighbors(x, y);
                const alive = cells[i];
                if (alive && (neighbors < 2 || neighbors > 3)) {
                    newCells[i] = false;
                } else if (!alive && neighbors === 3) {
                    newCells[i] = true;
                }
            }
            cells = newCells;
            updateGrid();
        }

        function getAliveNeighbors(x, y) {
            let count = 0;
            for (let dx = -1; dx <= 1; dx++) {
                for (let dy = -1; dy <= 1; dy++) {
                    if (dx === 0 && dy === 0) continue;
                    const nx = x + dx;
                    const ny = y + dy;
                    if (nx >= 0 && nx < gridSize && ny >= 0 && ny < gridSize) {
                        count += cells[nx + ny * gridSize] ? 1 : 0;
                    }
                }
            }
            return count;
        }

        function startGame() {
            if (intervalId) {
                clearInterval(intervalId);
            }
            intervalId = setInterval(nextGeneration, 500);
        }

        function resetGame() {
            clearInterval(intervalId);
            cells = cells.map(() => false);
            updateGrid();
        }

        startGameButton.addEventListener('click', startGame);
        resetButton.addEventListener('click', resetGame);

        createGrid();
        updateGrid();
    </script>
</body>
</html>